<!DOCTYPE html>
<!--
    Co
-->
<html>

	<head>
		<meta charset="utf-8" />
		<meta name="format-detection" content="telephone=no" />
		<meta name="msapplication-tap-highlight" content="no" />
		<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
		<!-- This is a wide open CSP declaration. To lock this down for production, see below.<meta http-equiv="Content-Security-Policy" content="default-src * 'unsafe-eval' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; media-src * 'unsafe-inline'; script-src * 'unsafe-inline'" /> -->

		<!-- Good default declaration:
		* gap: is required only on iOS (when using UIWebView) and is needed for JS->native communication
		* https://ssl.gstatic.com is required only on Android and is needed for TalkBack to function properly<meta http-equiv="Content-Security-Policy" content="default-src https:">
		* Disables use of eval() and inline scripts in order to mitigate risk of XSS vulnerabilities. To change this:
			* Enable inline JS: add 'unsafe-inline' to default-src
			* Enable eval(): add 'unsafe-eval' to default-src
		* Create your own at http://cspisawesome.com
		-->
		<!-- <meta http-equiv="Content-Security-Policy" content="default-src 'self' data: gap: 'unsafe-inline' https://ssl.gstatic.com; style-src 'self' 'unsafe-inline'; media-src *" /> -->
		<link href="js/jquery.mobile.theme-1.4.5.css" rel="stylesheet" type="text/css"/>
		<link href="js/jquery.mobile-1.4.5.min.css" rel="stylesheet" type="text/css"/>
		<link rel="stylesheet" type="text/css" href="css/index.css" />
		<script type="text/javascript" src="js/json2.js"></script>
		<!--<script src="js/jquery-2.1.1.min.js" type="text/javascript"></script>-->
		<script src="js/jquery.min.js" type="text/javascript"></script>
		<script src="js/jquery.mobile-1.4.5.min.js" type="text/javascript" ></script>


		<title>kombanjan</title>

	</head>

	<body >
        <!--home page-->
		<div  data-role="page"  id="one" data-theme="b">
			<div data-role="tabs">
				<div data-role="navbar">
					<ul>
						<li><a href="#byr" data-theme="b" data-ajax="false">Search by Taxi-Rank</a></li>
						<li><a href="#byd" data-theme="b" data-ajax="false">Search by Destination</a></li>
					</ul>
				</div>
				<div class="ui-content" id="byr" >

					<ul data-role="listview" data-view="inset" data-filterable="true">
						<li><a  onclick="setRO(1)">Faraday</a></li>
						<li><a  onclick="setRO(0)">PnP Bram</a></li>
						<li><a  onclick="setRO(2)">Oli</a></li>
					</ul>
				</div>
				<div class="ui-content" id="byd">

					<ul data-role="listview" data-view="inset" data-filter="true">
						<li><a href="#mp">Pretoria</a></li>
						<li><a href="#mp">Olivenhoutbosch</a></li>
						<li><a href="#mp">Midrand</a></li>
						
					</ul>
					<p>
						<a class="ui-btn" href="#register" > add route</a>
					</p>
				</div>
				
			</div>


		</div>
		<div></div>
        <!--maps Page-->
		<div data-role="page"  id="mp" data-theme="b">
			<div id="mapc" ></div>
			<button id="button2" onClick="load()">Find Taxi Rank</button>
			<button id="button3" onclick="ld2()">show taxi route</button>
		</div>
		<div data-role="page"  id="register" data-theme="b">
			<form action="" method="POST" onsubmit="go(this,'#two')" class="ui-content form">
				<h2>Register Your Email</h2>
				<input name="nm" placeholder="Name Surname">
				<input type="email" placeholder="Email">
				<input type="tel" placeholder="Cell Number">
				<select>
					<option value="a">ambiguous</option>
					<option value="m">male</option>
					<option value="f">female</option>
					<option value="am">ambiguous male</option>
					<option value="fm">ambiguous female</option>	
				</select>
				<div class="ui-formgroup">
					<label >
					<input name="newsl" type="checkbox">
					Receive News Letters?</label>
					<label >
					<input name="terms" type="checkbox" required>
					Agree to terms?</label> 
					</div>
				<button type="submit" >Register</button>
			</form>
			
		</div>
        <!--Map Log-->
		<div  data-role="page" data-theme="b" id="two">
			<div data-role="popup" id="pp" data-theme="a" > cant be empty</div>
			<div data-role="tabs">
				<div data-role="navbar">
					<ul>
						<li><a href="#routeini" data-theme="b" data-ajax="false">Enter New Route</a></li>
						<li><a href="#debug" data-theme="a" data-ajax="false">Live stats</a></li>
					</ul>
				</div>
				<div class="ui-content" id="routeini" >

					<ul data-role="listview" data-view="inset" data-filterable="true">
						<li><input type="text" id="pnt_1"></li>
						<li><input type="text" id="pnt_2"></li>

						<li><button onclick="rb.stt()"> start recording</button></li>
						<li><button disabled onclick="rb.ldg()"> about app</button></li>
					</ul>
				</div>
				<div class="ui-content" id="debug">
					<label> live points</label>
					<label id="live_ng"></label>
					<label id="live_tt"></label>

					<h4 class="ui-collapsible-heading">Share with friends</h4>
					<div id="routes"></div>
					


			</div>


		</div>
		</div>
		<div data-role="page"  id="routebuild">
			<div id="begin" ></div>

			<button onclick="rb.rec()"> record key point </button>
			<div id="rec"></div>
			<button onclick="rb.texport()">send route to whatsapp</button>
		</div>


		<!-- <script async defer src="https://maps.googleapis.com/maps/api/js?callback=initMap"></script> -->
		<!-- <script type="text/javascript" src="cordova.js"></script> -->
		<script type="text/javascript" src="cordova.js"></script>
		<script type="text/javascript" src="js/index.js"></script>
		<script type="text/javascript" src="js/routeBuilding.js"></script>
		<!-- <script type="text/javascript" src="js/firebase.js"></script>
		<script type="text/javascript" src="js/firebaseEngine.js"></script> -->
		<script type="text/javascript">
				var ln = 0;
				var lt = 0;
				var maps_loader_flag = false;
				var wi;
				var wp;
				var directionsService;
				var dd;//(, )(-26.201697, 28.035683) faraday (-26.213522, 28.047054)
				var mapDiv = document.getElementById('mapc');
				var rts = {
					selected:{},
					"bree": {
						points:[{location: {lat: -26.199383, lng: 28.047889}}, {location: {lat: -26.188246, lng: 28.047125}}] ,
						address: "burgers Park,Pretoria",
						name:"bree"}
					,
					"far":  {
						points:[{location: {lat: -26.188246, lng: 28.047125}}, {location: {lat: -26.162288, lng: 28.056813}}, {location: {lat: -25.990512, lng: 28.076669}}],
						name:"faraday"
						}
					,
					"oli": {
						points: [{location:{lat:-26.199383,lng:28.047889}},{location: {lat:-26.188246, lng:28.047125}},{location: {lat:-26.162288, lng:28.056813}},{location: {lat:-25.990512, lng:28.076669}}],
						name:"oli"
					},
					"mid": {
						"p1": {"lng": "", "lat": ""},
						"p2": {"lng": "", "lat": ""},
						"p3": {"lng": "", "lat": ""},
						"p4": {"lng": "", "lat": ""},
						"p5": {"lng": "", "lat": ""},
						"p6": {"lng": "", "lat": ""}
					},
					"BramPnp":
							{
								points:[{"location":{"lng": 28.033775, "lat": -26.192973}},
				{"location":{"lng": 28.038527, "lat": -26.190018}},
				{"location":{"lng": 28.042881, "lat": -26.190387}},
				{"location":{"lng": 28.049533, "lat": -26.188789}},
				{"location":{"lng": 28.054190, "lat": -26.187174}},
				{"location":{"lng": 28.067934, "lat": -26.197482}}],name:"Yeovile"}
				};
				var BramPnp = {points: [ {"location":{"lng": 28.033775, "lat": -26.192973}},
				{"location":{"lng": 28.038527, "lat": -26.190018}},
				{"location":{"lng": 28.042881, "lat": -26.190387}},
				{"location":{"lng": 28.049533, "lat": -26.188789}},
				{"location":{"lng": 28.054190, "lat": -26.187174}},
				{"location":{"lng": 28.067934, "lat": -26.197482}}],name:"BramPnp"};
				var rt = [true, false, false];
				function cal() {
					//alert("called");
					//
					//if (navigator.connection.type === Connection.NONE)
						//alert("not online");
					//alert(navigator.connection.type);
					//else
					wi = navigator.geolocation.getCurrentPosition(geS, gE, {maximumAge: 60000, enableHighAccuracy: true});
				}
				function onML() {
					//alert("loaded");

					//initMap();
				}
				function ld2() {
					newTaxiRoute(rts.selected,directionsService);
				}

				function geS(pos) {
					ln = pos.coords.longitude;
					lt = pos.coords.latitude;
					app.ready = true;
					if (window.GoogleMaps === undefined)
						if (!maps_loader_flag)
					   $.getScript("https://maps.googleapis.com/maps/api/js?key=AIzaSyAjfk6vHUJsuVvFcw1SLMPBLWFaITiz2LQ&callback=initMap");
					//initMap()
					//alert(pos.coords.longitude + ":" + pos.coords.latitude);
				}
				function gE(er) {
					alert(er.message);
				}
				function gD() {
					navigator.geolocation.clearWatch(wi);
				}
				
		</script>

	</body>

</html>
